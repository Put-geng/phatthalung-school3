<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="photo-Class/favicon-logo.png" type="image/png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <link rel="stylesheet" href="CodeCSS/nav-bar.css">
	<link rel="stylesheet" href="CodeCSS/Menu-Page.css">
    <title>โรงเรียนพัทลุง</title>
	<style>
		.bg {
			background: url('photo-Class/Res-background.jpg')no-repeat center center/cover;
			filter: blur(1px) brightness(110%);
		}
	</style>
</head>
<body>
    <div class="bg"></div>

    <!--nav-bar-->
    <nav>
        <div class="navlogo">
            <img src="photo-Class/favicon-logo.png" alt="icon-image" class="nav-logo-img">
            <div class="nav-logo">โรงเรียนพัทลุง</div>
        </div>

        <div class="menu-icon" id="menu-icon">
            <span class="material-symbols-outlined hamberger-icon">dehaze</span>
        </div>

        <div class="nav-link" id="nav-link">
            <a href="Menu-Page.html" class="nav-link-active">
                <span class="material-symbols-outlined nav-icon food">menu_book_2</span>เมนูอาหาร
            </a>
            <a href="Check-class.html">
                <span class="material-symbols-outlined nav-icon">browse_gallery</span>ตรวจห้องเรียน
            </a>
            <a href="" id="NameUser" class="no-after">
                <span class="material-symbols-outlined nav-icon">account_box</span>ชื่อผู้ใช้
            </a>
        </div>
    </nav>

	<!--header-->
	<div class="inline-head-menu">
			<div class="green-menu">เมนูอาหาร</div><div class="yellow-menu">ในโรงเรียนพัทลุง</div>
	</div>

	<div class="header-section">ประเภทร้านอาหารจากฝั่งปีกซ้าย</div>
	<section class="class-section-left">
		<div class="container-box" href="Left-1.html">
			<div class="lower-box">
				<div class="upper-box drink">
					<img src="photo-Class/drink-logo.png" alt="drink-logo-image" class="logo-image drink">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 1</p>
			</div>
		</div>

		<div class="container-box" href="Left-2.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/Yumyummy.png" alt="yum-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 2</p>
			</div>
		</div>

		<div class="container-box" href="Left-3.html">
			<div class="lower-box">
				<div class="upper-box sweet">
					<img src="photo-Class/IceCool.png" alt="icescream-logo-image" class="logo-image ice">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 3</p>
			</div>
		</div>

		<div class="container-box" href="Left-4.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/Ramen-logo.png" alt="noodle-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 4</p>
			</div>
		</div>

		<div class="container-box" href="Left-5.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceChicken-logo.png" alt="rice-logo-image" class="logo-image chicken">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 5</p>
			</div>
		</div>

		<div class="container-box" href="Left-6.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RamenChina-logo.png" alt="noodle-logo-image" class="logo-image big">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 6</p>
			</div>
		</div>

		<div class="container-box" href="Left-7.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceGangNew.png" alt="rice-logo-image" class="logo-image gang">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 7</p>
			</div>
		</div>

		<div class="container-box" href="Left-8.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/Ramayon.png" alt="noodle-logo-image" class="logo-image gang ramen">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 8</p>
			</div>
		</div>
	</section>

	<div class="header-section right-res">ประเภทร้านอาหารจากฝั่งปีกขวา</div>
	
	<section class="class-section-left">
		<div class="container-box" href="Left-9.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceGangNew.png" alt="drink-logo-image" class="logo-image gang">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 9</p>
			</div>
		</div>

		<div class="container-box" href="Left-10.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/ShabuShabu-logo.png" alt="yum-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 10</p>
			</div>
		</div>

		<div class="container-box" href="Left-11.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceChicken-logo.png" alt="icescream-logo-image" class="logo-image chicken">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 11</p>
			</div>
		</div>

		<div class="container-box" href="Left-12.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceGangNew.png" alt="noodle-logo-image" class="logo-image gang">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 12</p>
			</div>
		</div>

		<div class="container-box" href="Left-13.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/RiceEgg-logo.png" alt="rice-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 13</p>
			</div>
		</div>

		<div class="container-box" href="Left-14.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/Ramen-logo.png" alt="noodle-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 14</p>
			</div>
		</div>

		<div class="container-box" href="Left-15.html">
			<div class="lower-box">
				<div class="upper-box sweet">
					<img src="photo-Class/icescremSunday-logo.png" alt="rice-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 15</p>
			</div>
		</div>

		<div class="container-box" href="Left-16.html">
			<div class="lower-box">
				<div class="upper-box drink">
					<img src="photo-Class/drink-logo.png" alt="noodle-logo-image" class="logo-image drink">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 16</p>
			</div>
		</div>

		<div class="container-box" href="Left-17.html">
			<div class="lower-box">
				<div class="upper-box sweet">
					<img src="photo-Class/fruit-logo.png" alt="noodle-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 17</p>
			</div>
		</div>

		<div class="container-box" href="Left-18.html">
			<div class="lower-box">
				<div class="upper-box">
					<img src="photo-Class/frenchfries-logo.png" alt="noodle-logo-image" class="logo-image">
					<div class="circle-head"></div>
					<div class="border-img"></div>
				</div>
				<p>ร้านที่ 18</p>
			</div>
		</div>
	</section>


    <!--alert-box-->
	<div id="alertBox" class="custom-alert">
		<img id="alertIcon" src="" alt="alertIcon" class="alert-icon">
		<span id="alertMessage" class="alertMessage"></span>
		<button id="alertOkBtn">OK</button>
		<button id="backbutton"><a href="index.html">กลับหน้า Login</a></button>
	</div>

    <script>
        document.getElementById('menu-icon').onclick = function() {
			document.getElementById('nav-link').classList.toggle('active');
		}

        /*ส่วนฟังชันเข้าสู่ระบบ*/
		const form = document.querySelector('form');
		const nameUser = document.getElementById('NameUser');

        /*ถ้ามีข้อมูลอยู่แล้ว (เช่น reload หน้า) ให้ดึงกลับมาแสดง*/
        window.addEventListener('load', function() {
			const savedEmailNumber = localStorage.getItem('email');
			if (savedEmailNumber) {
				nameUser.innerHTML = `<span class="material-symbols-outlined">account_box</span>${savedEmailNumber}`;
			} else {
				nameUser.innerHTML = `
					<span class="material-symbols-outlined">account_box</span>ชื่อผู้ใช้
				`;
			}
		});
		
		
		/*เมื่อกดที่ชื่อผู้ใช้ ให้แสดงข้อมูลที่กรอกไว้*/
		nameUser.addEventListener("click", function(e) {
			e.preventDefault();
			const savedName = localStorage.getItem('username') || "ไม่พบชื่อผู้ใช้";
			const savedEmail = localStorage.getItem('email') || "ไม่พบอีเมล";
			showAlert(`ชื่อผู้ใช้ : ${savedName}\n อีเมล : ${savedEmail}`, "success");
		});
		
		
		
		function showAlert(message, type="success", redirecURL=null) {
			const alertBox = document.getElementById('alertBox');
			const alertMessage = document.getElementById('alertMessage');
			const alertBtn = document.getElementById('alertOkBtn');
			const backbutton = document.getElementById('backbutton');
			const alertIcon = document.getElementById('alertIcon');
			
			alertMessage.textContent = message;
			
			if (type === "error") {
				alertIcon.src = "https://cdn-icons-png.flaticon.com/512/1828/1828843.png";
				alertBox.className = "custom-alert show error"
			} else {
				alertIcon.src = "https://cdn-icons-png.flaticon.com/512/845/845646.png";
				alertBox.className = "custom-alert show"
				backbutton.className = "show"
			}

			alertBtn.onclick = () => {
				alertBox.classList.remove('show');

				if (redirecURL) {
					window.location.href = redirecURL;
				}
			}
		}

		const ContainerBox = document.querySelectorAll('.container-box');

		ContainerBox.forEach(box => {
			/*สร้างปุ่มดูข้อมูลแบบไดนามิก*/
			const btn = document.createElement('button');
			btn.textContent = "ดูเมนูอาหาร";
			btn.classList.add('view-btn');
			box.appendChild(btn);

			/*เมื่อคลิกกล่อง*/
			box.addEventListener('click', (e) => {
				e.preventDefault(); /* ❗ ป้องกันไม่ให้เปลี่ยนหน้า*/
    			e.stopPropagation(); /* กันการส่ง event ต่อ*/

				/*ป้องกันการคลิกปุ่มซ้ำ*/
				if (box.classList.contains('show-btn')) return;

				/*ลบสถาณะของกล่องอื่น*/
				ContainerBox.forEach(b => {
					b.classList.remove('blur', 'show-btn');
				});

				/*เพิ่มเอฟเฟคให้กล่องนี้*/
				box.classList.add('blur', 'show-btn');
				e.stopPropagation();
			});

			/*เมื่อกดปุ่มดูข้อมูล*/
			btn.addEventListener('click', (e) => {
				e.stopPropagation();
				const link = box.getAttribute('href');
				if (link && link !== "#") {
					window.location.href = link;
				}
			});
		});

		/*เมื่อคลิกที่อื่นนอกจากกล่องให้ปิดทุกอย่าง*/
		document.addEventListener('click', () => {
			ContainerBox.forEach(b => {
				b.classList.remove('blur', 'show-btn');
			});
		});
    </script>
</body>
</html>